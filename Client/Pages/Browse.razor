@page "/browse"
@using BirdEyes.Client.Services.IGDBService;
@inject IIGDBService IGDBService
@using BirdEyes.Client.Services.SteamService;
@inject ISteamService SteamService
@using BirdEyes.Client.Services.GOGService;
@inject IGOGService GOGService
@using IGDB;
@using IGDB.Models;

<PageTitle> Browse Games! </PageTitle>

<strong><h3>Browse Games</h3></strong>
<p/><p/>
<AuthorizeView>
	<NotAuthorized>
		<p>Log in to track games! </p>
	</NotAuthorized>
</AuthorizeView>
<EditForm Model="@BrowseInput">
	<div>
		<InputText id="Searchbar" @bind-Value="@BrowseInput.InputtedText" class="form-control" />
	</div>
</EditForm>

<table class="table"> 
	<thead>
		<tr>
			<th>Title</th>
			<th>Price</th>
			<th>On Sale?</th>
			<th>Version</th>
			<th>Rating</th>
			<th>Publisher</th>
			<th>Developer</th>
			<th>Download Count</th>
			<th class="dropdown"><button class="dropdown">
				<span class="oi oi-list" area-hidden="true"/>
				<div class="dropdown-content">
						<a href="/browse&sort=Title"<!--add this stuff-->>Title</a>
						<a href="#">Link 2</a>
						<a href="#">Link 3</a>
				</div>

			</button></th>
		</tr>
	</thead>
	<tbody>
		<!-- @foreach (Game game in IGDBService.AllGames)
			if (GOGService.AllGames.Contains() | SteamService.AllGames.Contains())
		{
			<tr>
					<td>game.Name</td> 
					@if ( == 0)
					{
					<td style="00FF00">Free</td>
				}
				else {
					<td>$Price</td>
				} 

				<td>OnSale</td>
				
				<td>Version</td>
				
				<td>Rating</td>
				
				<td>PubName</td> 
				
				<td>DevName</td> 
				
				<td>Downloads</td>
			</tr>
		}
			else if ()
			{
		}-->
		</tbody> 
</table>



@code {
	private Input BrowseInput = new Input(); 

	protected override async Task OnInitializedAsync()
	{
		await IGDBService.GetAllGames();
		
	}


	//public void DropSortOptions()  {	}
}

